import{j as e}from"./framer-DeVPOva8.js";import{a as f}from"./vendor-DNLTDC9N.js";import{D as H,P as E,S as L,V as a,I as O,T as r,F as V,b as W,u as M}from"./pdf-CK-2muvb.js";import{F as _,S as $,E as I,a as D,P as q,T as U,D as Y}from"./ui-XR2iGGpC.js";const K=o=>{const l=["","One ","Two ","Three ","Four ","Five ","Six ","Seven ","Eight ","Nine ","Ten ","Eleven ","Twelve ","Thirteen ","Fourteen ","Fifteen ","Sixteen ","Seventeen ","Eighteen ","Nineteen "],c=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"];if(o===0)return"Zero";const x=o.toString();if(x.length>9)return"Overflow";const s=("000000000"+x).substr(-9).match(/^(\d{2})(\d{2})(\d{2})(\d{1})(\d{2})$/);if(!s)return"";let d="";return d+=Number(s[1])!==0?(l[Number(s[1])]||c[s[1][0]]+" "+l[s[1][1]])+"Crore ":"",d+=Number(s[2])!==0?(l[Number(s[2])]||c[s[2][0]]+" "+l[s[2][1]])+"Lakh ":"",d+=Number(s[3])!==0?(l[Number(s[3])]||c[s[3][0]]+" "+l[s[3][1]])+"Thousand ":"",d+=Number(s[4])!==0?(l[Number(s[4])]||c[s[4][0]]+" "+l[s[4][1]])+"Hundred ":"",d+=Number(s[5])!==0?(d!==""?"and ":"")+(l[Number(s[5])]||c[s[5][0]]+" "+l[s[5][1]]):"",d.trim()+" only"};V.register({family:"Helvetica",fonts:[{src:"https://fonts.gstatic.com/s/helveticaneue/v70/1Ptsg8zYS_SKggPNyC0IT4ttDfA.ttf"},{src:"https://fonts.gstatic.com/s/helveticaneue/v70/1Ptsg8zYS_SKggPNyC0IT4ttDfB.ttf",fontWeight:"bold"},{src:"https://fonts.gstatic.com/s/helveticaneue/v70/1Ptsg8zYS_SKggPNyC0IT4ttDfC.ttf",fontStyle:"italic"}]});const u="#004030",X="#4A9782",t=L.create({page:{padding:30,paddingTop:120,fontFamily:"Helvetica",fontSize:10,lineHeight:1.2},header:{position:"absolute",top:30,left:30,right:30,height:90,flexDirection:"row"},separator:{height:2,backgroundColor:u,marginTop:5,marginBottom:15},logoImage:{width:70,height:70,objectFit:"contain",marginRight:20},titleSection:{flexGrow:1,justifyContent:"center",alignItems:"flex-end"},companyName:{fontSize:24,fontFamily:"Helvetica-Bold",textTransform:"uppercase",color:u,marginBottom:-1},companyAddress:{fontSize:9,color:"#444",textAlign:"right",marginBottom:2},taxTitle:{fontSize:14,fontFamily:"Helvetica-Bold",color:X,marginTop:15,textTransform:"uppercase",letterSpacing:1,textAlign:"center",width:"100%"},metaContainer:{flexDirection:"row",justifyContent:"space-between",marginTop:15,marginBottom:10},metaGroup:{width:"48%"},row:{flexDirection:"row",marginBottom:4},label:{width:70,fontFamily:"Helvetica-Bold",fontSize:9,color:"#555"},value:{flex:1,fontSize:9,fontFamily:"Helvetica"},gstBar:{borderTopWidth:1,borderBottomWidth:1,borderColor:"#e5e7eb",backgroundColor:"#f9fafb",flexDirection:"row",justifyContent:"space-between",paddingVertical:4,paddingHorizontal:4,marginBottom:10},gstText:{fontSize:9,color:"#333"},tableContainer:{marginTop:0,borderWidth:1,borderColor:"#e5e7eb"},tableHeader:{flexDirection:"row",backgroundColor:u,color:"white",height:24,alignItems:"center",textAlign:"center",fontFamily:"Helvetica-Bold",fontSize:9},col1:{width:"8%",borderRightWidth:1,borderColor:"#e5e7eb",height:"100%",padding:4},col2:{width:"62%",borderRightWidth:1,borderColor:"#e5e7eb",height:"100%",padding:4,textAlign:"left"},col3:{width:"12%",borderRightWidth:1,borderColor:"#e5e7eb",height:"100%",padding:4},col4:{width:"18%",height:"100%",padding:4,textAlign:"right"},rowStyle:{flexDirection:"row",borderBottomWidth:1,borderBottomColor:"#f3f4f6",alignItems:"flex-start",fontSize:10,paddingVertical:0},footerSection:{flexDirection:"row",borderTopWidth:2,borderTopColor:u,paddingTop:10,marginTop:0},footerLeft:{width:"60%",paddingRight:20},bankBox:{backgroundColor:"#f9fafb",padding:8,borderRadius:4,borderWidth:1,borderColor:"#e5e7eb"},bankTitle:{fontFamily:"Helvetica-Bold",fontSize:9,color:u,marginBottom:4,textTransform:"uppercase"},bankText:{fontSize:9,marginBottom:2,color:"#333"},footerRight:{width:"40%"},totalRow:{flexDirection:"row",justifyContent:"space-between",paddingVertical:3,borderBottomWidth:1,borderBottomColor:"#f3f4f6"},totalLabel:{fontFamily:"Helvetica",fontSize:10,color:"#555"},totalValue:{fontFamily:"Helvetica-Bold",fontSize:10,color:"#000"},grandTotalRow:{flexDirection:"row",justifyContent:"space-between",backgroundColor:u,padding:6,marginTop:5,borderRadius:2},grandTotalText:{color:"white",fontFamily:"Helvetica-Bold",fontSize:12},signatureArea:{marginTop:30,alignItems:"flex-end",paddingRight:10}}),k=({data:o,totals:l,options:c})=>{const x=l.gstRate/2,s=window.location.origin+"/favicon_transparent.png",d=c?.showBankDetails!==!1,n=c?.showBuyerGst!==!1;return e.jsx(H,{children:e.jsxs(E,{size:"A4",style:t.page,children:[e.jsxs(a,{style:t.header,fixed:!0,children:[e.jsx(O,{src:s,style:t.logoImage}),e.jsxs(a,{style:t.titleSection,children:[e.jsx(r,{style:t.companyName,children:"HEXHIVE SOLUTIONS"}),e.jsx(r,{style:{...t.companyAddress,fontFamily:"Helvetica-Bold"},children:"Pondicherry - 605001,No.58, Canteen Street, First Floor"}),e.jsx(r,{style:t.companyAddress,children:"Ph: +91 9751 397500 | Email: contact@hexhive.solutions"}),e.jsx(r,{style:t.companyAddress,children:"GSTIN : 34AAAAA0000A1Z5   State Code : 34"})]})]}),e.jsx(r,{style:t.taxTitle,children:"TAX INVOICE"}),e.jsx(a,{style:t.separator}),"        ",e.jsxs(a,{style:t.metaContainer,children:[e.jsxs(a,{style:t.metaGroup,children:[e.jsx(r,{style:{fontFamily:"Helvetica-Bold",color:u,fontSize:11,marginBottom:5},children:"BILL TO:"}),e.jsxs(a,{style:t.row,children:[e.jsx(r,{style:t.label,children:"Name:"}),e.jsx(r,{style:t.value,children:o.customerName})]}),e.jsxs(a,{style:t.row,children:[e.jsx(r,{style:t.label,children:"Address:"}),e.jsx(r,{style:t.value,children:o.customerAddr})]}),o.customerPhone&&e.jsxs(a,{style:t.row,children:[e.jsx(r,{style:t.label,children:"Phone:"}),e.jsx(r,{style:t.value,children:o.customerPhone})]}),n&&e.jsxs(a,{style:t.row,children:[e.jsx(r,{style:t.label,children:"GSTIN:"}),e.jsx(r,{style:t.value,children:o.buyerGst})]})]}),e.jsxs(a,{style:t.metaGroup,children:[e.jsx(r,{style:{fontFamily:"Helvetica-Bold",color:u,fontSize:11,marginBottom:5},children:"INVOICE DETAILS:"}),e.jsxs(a,{style:t.row,children:[e.jsx(r,{style:t.label,children:"Invoice No:"}),e.jsx(r,{style:t.value,children:o.invNo})]}),e.jsxs(a,{style:t.row,children:[e.jsx(r,{style:t.label,children:"Date:"}),e.jsxs(r,{style:t.value,children:[o.date.split("-").reverse().join(".")," ",new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})]})]}),e.jsxs(a,{style:t.row,children:[e.jsx(r,{style:t.label,children:"Place of Supply:"}),e.jsx(r,{style:t.value,children:"Pondicherry (34)"})]})]})]}),e.jsxs(a,{style:t.gstBar,children:[e.jsx(a,{style:{flexDirection:"row"},children:n?e.jsxs(e.Fragment,{children:[e.jsx(r,{style:t.gstText,children:"Buyer GSTIN:  "}),e.jsx(r,{style:{...t.gstText,fontFamily:"Helvetica-Bold"},children:o.buyerGst})]}):e.jsx(r,{style:t.gstText,children:"Consumer Invoice"})}),e.jsx(a,{children:e.jsxs(r,{style:t.gstText,children:["State Code: ",e.jsx(r,{style:{fontFamily:"Helvetica-Bold"},children:"34"})]})})]}),e.jsxs(a,{style:t.tableContainer,children:[e.jsxs(a,{style:t.tableHeader,children:[e.jsx(r,{style:t.col1,children:"#"}),e.jsx(r,{style:t.col2,children:"Description"}),e.jsx(r,{style:t.col3,children:"Qty"}),e.jsx(r,{style:t.col4,children:"Amount"})]}),o.items.map((b,g)=>e.jsxs(a,{style:t.rowStyle,children:[e.jsx(r,{style:[t.col1],children:g+1}),e.jsx(r,{style:[t.col2],children:b.desc}),e.jsx(r,{style:[t.col3,{textAlign:"center"}],children:b.qty}),e.jsx(r,{style:[t.col4],children:Number(b.total).toLocaleString("en-IN")})]},g))]}),e.jsx(a,{style:{flexGrow:1}}),e.jsxs(a,{style:t.footerSection,wrap:!1,children:[e.jsxs(a,{style:t.footerLeft,children:[d&&e.jsxs(a,{style:t.bankBox,children:[e.jsx(r,{style:t.bankTitle,children:"Bank Details"}),e.jsxs(a,{style:t.row,children:[e.jsx(r,{style:t.label,children:"Bank:"}),e.jsx(r,{style:t.bankText,children:"Indian Bank"})]}),e.jsxs(a,{style:t.row,children:[e.jsx(r,{style:t.label,children:"A/C No:"}),e.jsx(r,{style:t.bankText,children:"7894561230"})]}),e.jsxs(a,{style:t.row,children:[e.jsx(r,{style:t.label,children:"IFSC:"}),e.jsx(r,{style:t.bankText,children:"IDIB000P042"})]}),e.jsxs(a,{style:t.row,children:[e.jsx(r,{style:t.label,children:"Branch:"}),e.jsx(r,{style:t.bankText,children:"Pondicherry Main"})]})]}),e.jsxs(r,{style:{marginTop:10,fontSize:9,fontStyle:"italic"},children:["Amount in words: ",K(l.grandTotal)]})]}),e.jsxs(a,{style:t.footerRight,children:[e.jsxs(a,{style:t.totalRow,children:[e.jsx(r,{style:t.totalLabel,children:"Sub Total"}),e.jsx(r,{style:t.totalValue,children:l.subTotal.toLocaleString("en-IN",{minimumFractionDigits:2})})]}),e.jsxs(a,{style:t.totalRow,children:[e.jsxs(r,{style:t.totalLabel,children:["CGST (",x,"%)"]}),e.jsx(r,{style:t.totalValue,children:l.cgst.toLocaleString("en-IN",{minimumFractionDigits:2})})]}),e.jsxs(a,{style:t.totalRow,children:[e.jsxs(r,{style:t.totalLabel,children:["SGST (",x,"%)"]}),e.jsx(r,{style:t.totalValue,children:l.sgst.toLocaleString("en-IN",{minimumFractionDigits:2})})]}),e.jsxs(a,{style:t.grandTotalRow,children:[e.jsx(r,{style:t.grandTotalText,children:"Grand Total"}),e.jsxs(r,{style:t.grandTotalText,children:["Rs. ",l.grandTotal.toLocaleString("en-IN")]})]})]})]}),e.jsxs(a,{style:t.signatureArea,wrap:!1,children:[e.jsx(r,{style:{fontFamily:"Helvetica-Bold",fontSize:10,color:u},children:"For HEXHIVE SOLUTIONS"}),e.jsx(a,{style:{height:40}}),e.jsx(r,{style:{fontSize:8},children:"Authorized Signatory"})]})]})})},re=()=>{const[o,l]=f.useState("inclusive"),[c,x]=f.useState(18),[s,d]=f.useState({showBankDetails:!0,showBuyerGst:!0}),[n,b]=f.useState({invNo:"208",date:new Date().toISOString().split("T")[0],customerName:"",customerAddr:"",customerPhone:"",buyerGst:"",items:[{id:1,desc:"Web Development Services",qty:1,total:1e3}]}),[g,F]=f.useState({data:n,gstMode:o,gstRate:c,displayOptions:s});f.useEffect(()=>{const i=setTimeout(()=>{F({data:n,gstMode:o,gstRate:c,displayOptions:s})},800);return()=>clearTimeout(i)},[n,o,c,s]);const j=i=>b({...n,[i.target.name]:i.target.value}),S=(i,h,m)=>{const p=[...n.items];p[i][h]=m,b({...n,items:p})},A=()=>b({...n,items:[...n.items,{id:Date.now(),desc:"",qty:"",total:0}]}),G=i=>{const h=n.items.filter((m,p)=>p!==i);b({...n,items:h})},C=i=>{d(h=>({...h,[i]:!h[i]}))},B=(i,h,m)=>{const p=i.reduce((T,z)=>T+Number(z.total),0);let w,N,v;if(h==="inclusive"){v=Math.round(p);const T=v/(1+m/100);w=T,N=v-T}else w=p,N=w*(m/100),v=Math.round(w+N);return{subTotal:w,cgst:N/2,sgst:N/2,grandTotal:v,gstRate:m}},P=f.useMemo(()=>B(g.data.items,g.gstMode,g.gstRate),[g]),R=B(n.items,o,c),y="w-full px-3 py-2 border border-gray-200 dark:border-gray-600 rounded-md text-sm transition-all focus:outline-none focus:border-accent focus:ring-2 focus:ring-accent/10 bg-white dark:bg-gray-700 text-gray-900 dark:text-white";return e.jsxs("div",{className:"flex flex-col md:flex-row h-[calc(100vh-5rem)] font-sans bg-cream dark:bg-gray-900 overflow-hidden transition-colors duration-300",children:[e.jsxs("div",{className:"w-full md:w-[40%] bg-white/90 dark:bg-gray-800/80 backdrop-blur-md border-r border-white/20 dark:border-gray-700 shadow-xl z-10 flex flex-col h-full transition-colors duration-300",children:[e.jsx("div",{className:"p-4 border-b border-white/20 dark:border-gray-700 bg-primary/95 dark:bg-gray-900/95 flex justify-between items-center text-white transition-colors duration-300 backdrop-blur-md",children:e.jsxs("h2",{className:"text-xl font-heading font-bold flex items-center",children:[e.jsx(_,{className:"mr-2 h-5 w-5"})," Invoice Generator"]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-transparent",children:[e.jsxs("div",{className:"bg-white/50 dark:bg-gray-700/50 p-4 rounded-lg border border-gray-200/50 dark:border-gray-600/50 mb-6 shadow-sm transition-colors duration-300 backdrop-blur-sm",children:[e.jsxs("h3",{className:"text-xs font-bold text-primary dark:text-accent-light mb-3 uppercase tracking-wide flex items-center transition-colors",children:[e.jsx($,{className:"w-3 h-3 mr-1"})," Display Settings"]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("button",{onClick:()=>C("showBankDetails"),type:"button",className:`flex items-center px-3 py-2 rounded text-xs font-medium border transition-colors ${s.showBankDetails?"bg-primary text-white border-primary dark:bg-accent":"bg-gray-50/50 dark:bg-gray-600/50 text-gray-600 dark:text-gray-200 border-gray-200 dark:border-gray-500"}`,children:[s.showBankDetails?e.jsx(I,{className:"w-3 h-3 mr-1"}):e.jsx(D,{className:"w-3 h-3 mr-1"}),"Bank Details"]}),e.jsxs("button",{onClick:()=>C("showBuyerGst"),type:"button",className:`flex items-center px-3 py-2 rounded text-xs font-medium border transition-colors ${s.showBuyerGst?"bg-primary text-white border-primary dark:bg-accent":"bg-gray-50/50 dark:bg-gray-600/50 text-gray-600 dark:text-gray-200 border-gray-200 dark:border-gray-500"}`,children:[s.showBuyerGst?e.jsx(I,{className:"w-3 h-3 mr-1"}):e.jsx(D,{className:"w-3 h-3 mr-1"}),"Buyer GST"]})]})]}),e.jsxs("div",{className:"bg-cream/50 dark:bg-gray-700/50 p-4 rounded-lg border border-accent/20 dark:border-gray-600/50 mb-6 transition-colors duration-300 backdrop-blur-sm",children:[e.jsx("h3",{className:"text-xs font-bold text-primary dark:text-accent-light mb-3 uppercase tracking-wide transition-colors",children:"Tax Settings"}),e.jsxs("div",{className:"flex gap-4 mb-3",children:[e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",checked:o==="inclusive",onChange:()=>l("inclusive"),className:"mr-2 accent-primary"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200 ml-2",children:"Inclusive GST"})]}),e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",checked:o==="exclusive",onChange:()=>l("exclusive"),className:"mr-2 accent-primary"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200 ml-2",children:"Exclusive GST"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs font-bold text-gray-600 dark:text-gray-300",children:"GST Slab:"}),[0,5,12,18].map(i=>e.jsxs("button",{onClick:()=>x(i),className:`px-3 py-1 text-xs font-bold rounded border transition-colors ${c===i?"bg-primary text-white border-primary dark:bg-accent":"bg-white/80 dark:bg-gray-600/80 text-gray-600 dark:text-gray-200 border-gray-300 dark:border-gray-500 hover:bg-gray-100 dark:hover:bg-gray-500"}`,children:[i,"%"]},i))]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 uppercase mb-1",children:"Inv. No"}),e.jsx("input",{name:"invNo",value:n.invNo,onChange:j,className:y})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 uppercase mb-1",children:"Date"}),e.jsx("input",{type:"date",name:"date",value:n.date,onChange:j,className:y})]})]}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsx("input",{name:"customerName",value:n.customerName,onChange:j,placeholder:"Customer Name",className:y}),e.jsx("input",{name:"customerAddr",value:n.customerAddr,onChange:j,placeholder:"Address",className:y}),e.jsx("input",{name:"customerPhone",value:n.customerPhone,onChange:j,placeholder:"Phone Number",className:y}),e.jsx("input",{name:"buyerGst",value:n.buyerGst,onChange:j,placeholder:"GSTIN",className:y})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("h3",{className:"font-bold text-sm text-gray-700 dark:text-gray-200",children:"Items List"}),e.jsxs("button",{onClick:A,className:"flex items-center text-xs bg-accent text-white px-3 py-1 rounded hover:bg-primary transition",children:[e.jsx(q,{className:"w-3 h-3 mr-1"})," Add Item"]})]}),n.items.map((i,h)=>e.jsxs("div",{className:"bg-gray-50/50 dark:bg-gray-700/50 p-3 rounded border border-gray-200/50 dark:border-gray-600/50 mb-2 group hover:border-accent/50 transition-colors backdrop-blur-sm",children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase",children:["Item ",h+1]}),e.jsx("button",{onClick:()=>G(h),className:"text-red-500 opacity-0 group-hover:opacity-100 transition",children:e.jsx(U,{className:"w-3 h-3"})})]}),e.jsx("textarea",{rows:3,value:i.desc,onChange:m=>S(h,"desc",m.target.value),placeholder:"Description",className:`${y} mb-2 font-mono`}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"w-1/3",children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-400",children:"Qty"}),e.jsx("input",{type:"number",value:i.qty,onChange:m=>S(h,"qty",m.target.value),className:y})]}),e.jsxs("div",{className:"w-2/3",children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-400",children:o==="inclusive"?"Total (Inc. Tax)":"Price (Exc. Tax)"}),e.jsx("input",{type:"number",value:i.total,onChange:m=>S(h,"total",m.target.value),className:y})]})]})]},i.id))]})]}),e.jsx("div",{className:"p-4 border-t border-white/20 dark:border-gray-700 bg-white/95 dark:bg-gray-800/95 transition-colors duration-300",children:e.jsx(Q,{data:n,totals:R,invNo:n.invNo,options:s})})]}),e.jsx("div",{className:"hidden md:block w-[60%] h-full bg-gray-800",children:e.jsx(W,{width:"100%",height:"100%",className:"border-none w-full h-full",showToolbar:!0,children:e.jsx(k,{data:g.data,totals:P,options:g.displayOptions})})})]})},Q=({data:o,totals:l,invNo:c,options:x})=>{const[s,d]=M({document:e.jsx(k,{data:o,totals:l,options:x})});return f.useEffect(()=>{d(e.jsx(k,{data:o,totals:l,options:x}))},[o,l,x,d]),s.loading?e.jsx("button",{disabled:!0,className:"w-full bg-gray-300 text-gray-500 font-bold py-3 rounded-lg cursor-wait",children:"Preparing PDF..."}):s.error?e.jsx("button",{disabled:!0,className:"w-full bg-red-100 text-red-500 font-bold py-3 rounded-lg",children:"Error Generating PDF"}):e.jsxs("a",{href:s.url,download:`Invoice_${c}.pdf`,className:"flex justify-center items-center w-full bg-primary hover:bg-primary-light text-white font-bold py-3 rounded-lg shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-0.5",children:[e.jsx(Y,{className:"mr-2 h-5 w-5"})," Download Final PDF"]})};export{re as default};
